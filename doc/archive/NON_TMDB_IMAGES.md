# ğŸ–¼ï¸ é TMDB å›¾ç‰‡é¢„è§ˆåŠŸèƒ½

## ğŸ‰ æ–°å¢åŠŸèƒ½

å³ä½¿æ²¡æœ‰ TMDB æ•°æ®ï¼Œç°åœ¨ä¹Ÿèƒ½æä¾›å›¾ç‰‡é¢„è§ˆï¼

## ğŸ“Š ä¸‰ç§é¢„è§ˆæ–¹å¼

### 1. ğŸ¬ TMDB å®˜æ–¹å›¾ç‰‡ï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰
**æ¡ä»¶**: ç§å­æœ‰ TMDB ID ä¸”ç½‘ç»œå¯è®¿é—®

**å†…å®¹**:
- ç”µå½±å‰§ç…§ï¼ˆBackdropsï¼‰
- ç”µå½±æµ·æŠ¥ï¼ˆPostersï¼‰
- æœ€å¤šæ˜¾ç¤º 12 å¼ 
- ç‚¹å‡»æ”¾å¤§å…¨å±æŸ¥çœ‹

**æ˜¾ç¤º**:
```
ğŸ–¼ï¸ å‰§ç…§ç”»å»Š (6 å¼ )
[å›¾1] [å›¾2] [å›¾3]
[å›¾4] [å›¾5] [å›¾6]
```

---

### 2. ğŸ–¼ï¸ ç§å­å†…çš„å›¾ç‰‡æ–‡ä»¶ï¼ˆæ¬¡ä¼˜å…ˆï¼‰
**æ¡ä»¶**: ç§å­åŒ…å«å›¾ç‰‡æ–‡ä»¶ï¼ˆ.jpg, .png, .gif ç­‰ï¼‰

**å†…å®¹**:
- åˆ—å‡ºæ‰€æœ‰å›¾ç‰‡æ–‡ä»¶è·¯å¾„
- æ˜¾ç¤ºæ–‡ä»¶å¤§å°
- æœ€å¤šæ˜¾ç¤º 12 ä¸ª

**æ˜¾ç¤º**:
```
ğŸ–¼ï¸ ç§å­å†…çš„å›¾ç‰‡ (3 å¼ )
â„¹ï¸ ç§å­åŒ…å«ä»¥ä¸‹å›¾ç‰‡æ–‡ä»¶ï¼Œä¸‹è½½åå¯æŸ¥çœ‹å®Œæ•´å†…å®¹

ğŸ–¼ï¸ covers/front.jpg        2.5 MB
ğŸ–¼ï¸ covers/back.jpg         2.3 MB
ğŸ–¼ï¸ screenshots/shot1.png   1.8 MB
```

**ç”¨é€”**:
- ç”¨æˆ·å¯ä»¥çœ‹åˆ°ç§å­åŒ…å«å“ªäº›å›¾ç‰‡
- åˆ¤æ–­æ˜¯å¦å€¼å¾—ä¸‹è½½
- é¢„ä¼°å›¾ç‰‡è´¨é‡

---

### 3. ğŸ”— ç›¸å…³å›¾ç‰‡é“¾æ¥ï¼ˆå…œåº•æ–¹æ¡ˆï¼‰
**æ¡ä»¶**: æ²¡æœ‰ TMDB ä¹Ÿæ²¡æœ‰å›¾ç‰‡æ–‡ä»¶

**å†…å®¹**:
- BTDig ç§å­æœç´¢é“¾æ¥
- IMDB é“¾æ¥ï¼ˆå¦‚æœæ ‡é¢˜åŒ…å« IMDB IDï¼‰
- Google å›¾ç‰‡æœç´¢

**æ˜¾ç¤º**:
```
ğŸ”— ç›¸å…³å›¾ç‰‡èµ„æº
ğŸ’¡ ä»¥ä¸‹é“¾æ¥å¯èƒ½åŒ…å«ç›¸å…³å›¾ç‰‡ï¼š

ğŸ”— BTDig
ğŸ¬ IMDB  
ğŸ” Google Images
```

**æ™ºèƒ½æå–**:
1. **IMDB ID è¯†åˆ«**
   - ä»æ ‡é¢˜æå– `tt1234567` æ ¼å¼
   - è‡ªåŠ¨ç”Ÿæˆ IMDB é“¾æ¥

2. **æ ‡é¢˜æ¸…ç†**
   - ç§»é™¤æ–¹æ‹¬å·å†…å®¹ `[...]`
   - ç§»é™¤åœ†æ‹¬å·å†…å®¹ `(...)`
   - ç”¨äº Google å›¾ç‰‡æœç´¢

---

## ğŸ”„ ä¼˜å…ˆçº§é¡ºåº

```
1. TMDB å®˜æ–¹å›¾ç‰‡ âœ…
   â†“ (å¦‚æœæ²¡æœ‰)
2. ç§å­å†…å›¾ç‰‡æ–‡ä»¶ âœ…
   â†“ (å¦‚æœæ²¡æœ‰)
3. å¤–éƒ¨å›¾ç‰‡é“¾æ¥ âœ…
   â†“ (å¦‚æœéƒ½æ²¡æœ‰)
4. ä¸æ˜¾ç¤ºå›¾ç‰‡åŒºåŸŸ
```

---

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: æœ‰ TMDB çš„ç”µå½±
```
ç”µå½±: é˜¿å‡¡è¾¾ (2009)
TMDB: âœ… æœ‰æ•°æ®
æ˜¾ç¤º: TMDB å‰§ç…§ç”»å»Š
```

### åœºæ™¯ 2: æ—  TMDB ä½†æœ‰å›¾ç‰‡çš„ç§å­
```
ç§å­: [é£æ™¯æ‘„å½±é›†].2025.4K.HDR
TMDB: âŒ æ— æ•°æ®
æ–‡ä»¶: âœ… åŒ…å« .jpg æ–‡ä»¶
æ˜¾ç¤º: ç§å­å†…çš„å›¾ç‰‡åˆ—è¡¨
```

### åœºæ™¯ 3: çº¯è§†é¢‘ç§å­
```
ç§å­: çºªå½•ç‰‡.1080p.mkv
TMDB: âŒ æ— æ•°æ®
å›¾ç‰‡: âŒ æ— å›¾ç‰‡æ–‡ä»¶
IMDB: âŒ æ—  IMDB ID
æ˜¾ç¤º: Google å›¾ç‰‡æœç´¢é“¾æ¥
```

---

## ğŸ¨ ç•Œé¢å±•ç¤º

### ç§å­å†…å›¾ç‰‡ï¼ˆç¤ºä¾‹ï¼‰

```html
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ–¼ï¸ ç§å­å†…çš„å›¾ç‰‡ (5 å¼ )                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â„¹ï¸ ç§å­åŒ…å«ä»¥ä¸‹å›¾ç‰‡æ–‡ä»¶...            â”‚
â”‚                                          â”‚
â”‚  ğŸ–¼ï¸ gallery/img001.jpg     5.2 MB      â”‚
â”‚  ğŸ–¼ï¸ gallery/img002.jpg     4.8 MB      â”‚
â”‚  ğŸ–¼ï¸ gallery/img003.jpg     5.1 MB      â”‚
â”‚  ğŸ–¼ï¸ covers/front.png       2.3 MB      â”‚
â”‚  ğŸ–¼ï¸ covers/back.png        2.1 MB      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç›¸å…³å›¾ç‰‡é“¾æ¥ï¼ˆç¤ºä¾‹ï¼‰

```html
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”— ç›¸å…³å›¾ç‰‡èµ„æº                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ’¡ ä»¥ä¸‹é“¾æ¥å¯èƒ½åŒ…å«ç›¸å…³å›¾ç‰‡ï¼š          â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ”— BTDig                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ¬ IMDB                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ” Google Images                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ æŠ€æœ¯å®ç°

### 1. å›¾ç‰‡æ–‡ä»¶æå–
```javascript
function extractImageFiles(files) {
  const imageExtensions = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp'];
  return files.filter(file => {
    const ext = file.path.split('.').pop().toLowerCase();
    return imageExtensions.includes(ext);
  }).slice(0, 12);
}
```

### 2. æ ‡é¢˜è§£æ
```javascript
function extractImagesFromTitle(title, infoHash) {
  const images = [];
  
  // IMDB ID æå–
  const imdbMatch = title.match(/tt\d{7,8}/i);
  if (imdbMatch) {
    images.push({
      type: 'imdb',
      url: `https://www.imdb.com/title/${imdbMatch[0]}/`,
      source: 'IMDB'
    });
  }
  
  // æ¸…ç†æ ‡é¢˜ç”¨äºæœç´¢
  const cleanTitle = title
    .replace(/\[.*?\]/g, '')
    .replace(/\(.*?\)/g, '')
    .trim();
  
  return images;
}
```

### 3. æ¸²æŸ“é€»è¾‘
```javascript
// ä¼˜å…ˆçº§åˆ¤æ–­
${tmdb ? 'TMDBç”»å»Š' : 
  imageFiles.length > 0 ? 'ç§å­å›¾ç‰‡åˆ—è¡¨' : 
  alternativeImages.length > 0 ? 'å¤–éƒ¨é“¾æ¥' : 
  ''}
```

---

## ğŸ“Š API è¿”å›æ•°æ®

### æ–°å¢å­—æ®µ

```json
{
  "infoHash": "xxx",
  "title": "ç”µå½±æ ‡é¢˜",
  "imageFiles": [
    {
      "index": 0,
      "path": "covers/poster.jpg",
      "size": 2500000
    }
  ],
  "alternativeImages": [
    {
      "type": "imdb",
      "url": "https://www.imdb.com/title/tt1234567/",
      "source": "IMDB"
    },
    {
      "type": "search",
      "url": "https://www.google.com/search?tbm=isch&q=...",
      "source": "Google Images"
    }
  ]
}
```

---

## ğŸ¯ ä¼˜åŠ¿

### å¯¹ç”¨æˆ·
- âœ… æ€»èƒ½çœ‹åˆ°æŸç§å½¢å¼çš„å›¾ç‰‡é¢„è§ˆ
- âœ… äº†è§£ç§å­åŒ…å«å“ªäº›å›¾ç‰‡
- âœ… å¿«é€Ÿè®¿é—®ç›¸å…³èµ„æº

### å¯¹ç³»ç»Ÿ
- âœ… ä¸ä¾èµ–å•ä¸€æ•°æ®æº
- âœ… ä¼˜é›…é™çº§å¤„ç†
- âœ… é›¶é¢å¤–ç½‘ç»œè¯·æ±‚ï¼ˆé™¤ TMDBï¼‰

---

## ğŸš€ æµ‹è¯•

### æµ‹è¯•ä¸åŒç±»å‹ç§å­

```bash
# 1. æµ‹è¯•æœ‰å›¾ç‰‡æ–‡ä»¶çš„ç§å­
curl -s http://localhost:3337/api/details/{hash} | \
  python3 -c "import sys,json; print(len(json.load(sys.stdin).get('imageFiles', [])))"

# 2. æµ‹è¯•æ›¿ä»£é“¾æ¥
curl -s http://localhost:3337/api/details/{hash} | \
  python3 -c "import sys,json; data=json.load(sys.stdin); \
  [print(f\"{i['source']}: {i['url']}\") for i in data.get('alternativeImages', [])]"

# 3. æŸ¥çœ‹ HTML æ¸²æŸ“
curl -s http://localhost:3337/details/{hash} | grep -A5 "ç›¸å…³å›¾ç‰‡"
```

---

## ğŸ“ ç¤ºä¾‹

### ç¤ºä¾‹ 1: æ‘„å½±é›†ç§å­
```
[4Ké£æ™¯å£çº¸åˆé›†].2025.UHD.HDR.zip

åŒ…å«æ–‡ä»¶:
- wallpapers/001.jpg (8.5 MB)
- wallpapers/002.jpg (8.2 MB)
- wallpapers/003.jpg (7.9 MB)
...

æ˜¾ç¤º: ğŸ–¼ï¸ ç§å­å†…çš„å›¾ç‰‡ (120 å¼ )
```

### ç¤ºä¾‹ 2: å¸¦ IMDB çš„ç”µå½±
```
The.Matrix.1999.tt0133093.1080p.BluRay.mkv

æå–åˆ°: IMDB ID = tt0133093

æ˜¾ç¤º: 
- ğŸ¬ IMDB é“¾æ¥
- ğŸ” Google å›¾ç‰‡æœç´¢ "The Matrix 1999"
```

---

## ğŸ‰ æ€»ç»“

ç°åœ¨ **100% çš„ç§å­** éƒ½èƒ½æ˜¾ç¤ºæŸç§å½¢å¼çš„å›¾ç‰‡é¢„è§ˆï¼š
- æœ‰ TMDB â†’ å®˜æ–¹å‰§ç…§
- æœ‰å›¾ç‰‡æ–‡ä»¶ â†’ æ–‡ä»¶åˆ—è¡¨
- éƒ½æ²¡æœ‰ â†’ å¤–éƒ¨é“¾æ¥

**æ— æ­»è§’è¦†ç›–ï¼** ğŸš€

---

**ç‰ˆæœ¬**: v1.2.1  
**åˆ›å»ºæ—¶é—´**: 2025-11-13  
**åŠŸèƒ½**: é TMDB å›¾ç‰‡é¢„è§ˆ
